<!-- <!DOCTYPE html> 
<html>
<head>
    <title>add details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
            <script src="./details.js" type="text/javascript"></script>
            <script src="./check.js" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        <h2>add account details</h2>
        <div class="row">
            <div class="col">Bank name</div>
            <div class="col">Acc no</div>
            <div class="col">ifsc code</div>
            <div class="col">branch</div>
            <div class="col">amount</div>
            <div class="col">pin</div>
            <div class="col">upi id</div>
            <div class="col">Action</div>
        </div>
        <div class="row mt-4">
            <div class="col"><input type="text" id="bankname" name="bankname" class="form-control" /></div>
            <div class="col"><input type="number" id="accountno" name="accountno" class="form-control" /></div>
            <div class="col"><input type="text" id="ifsc" name="ifsc" class="form-control" /></div>
            <div class="col"><input type="text" id="branch" name="branch" class="form-control" /></div>
            <div class="col"><input type="number" id="amount" name="amount" class="form-control" /></div>
            <div class="col"><input type="number" id="pin" name="pin" class="form-control" /></div>
            <div class="col"><input type="number" id="upiid" name="upiid" class="form-control" /></div>
            <div class="col"><button type="button" class="btn btn-success" onclick="validateregister()">Add next</button></div>
        </div>
        <div id="listDetails"></div>
        <div class="row mt-4">
            <div class="col"></div>
            <div class="col"><span id="lgMsg"></span></div>
        </div>
    </div>

    <script>
        var details = [];

        function validateregister() {
            let bankName = document.getElementById('bankname').value;
            let accountNo = document.getElementById('accountno').value;
            let branch = document.getElementById('branch').value;
            let ifsc = document.getElementById('ifsc').value;
            let amount = document.getElementById('amount').value;
            let pin = document.getElementById('pin').value;
            let upi = document.getElementById('upiid').value;
            let lgMsg = document.getElementById('lgMsg');

            if (bankName.trim() === '') {
                lgMsg.innerHTML = 'Please enter your bank name.';
                return;
            }

            if (accountNo.trim() === '') {
                lgMsg.innerHTML = 'Please enter your account number.';
                return;
            }

            if (branch.trim() === '') {
                lgMsg.innerHTML = 'Please enter your branch.';
                return;
            }

            if (ifsc.trim() === '') {
                lgMsg.innerHTML = 'Please enter your IFSC code.';
                return;
            }

            if (amount.trim() === '') {
                lgMsg.innerHTML = 'Please enter the amount.';
                return;
            }

            if (pin.trim() === '') {
                lgMsg.innerHTML = 'Please enter your PIN.';
                return;
            }

            if (upi.trim() === '') {
                lgMsg.innerHTML = 'Please enter your UPI.';
                return;
            }

            let detailExists = false;

            for (let detail of details) {
                if (
                    detail[0] === bankName &&
                    detail[1] === accountNo &&
                    detail[2] === ifsc &&
                    detail[3] === branch &&
                    detail[4] === amount &&
                    detail[5] === pin &&
                    detail[6] === upi
                ) {
                    detailExists = true;
                    break;
                }
            }

            if (detailExists) {
                lgMsg.innerHTML = 'Detail already exists.';
            } else {
                sessionStorage.setItem('bankname', bankName);
                sessionStorage.setItem('accountno', accountNo);
                sessionStorage.setItem('branch', branch);
                sessionStorage.setItem('ifsc', ifsc);
                sessionStorage.setItem('amount', amount);
                sessionStorage.setItem('pin', pin);
                sessionStorage.setItem('upi', upi);
                lgMsg.innerHTML = 'Add bank detail successful.';

                let detail = [bankName, accountNo, ifsc, branch, amount, pin, upi];
                details.push(detail);
                cleardetail();
                load();
                lgMsg.innerHTML = 'Account details added successfully.';
            }
        }

        function cleardetail() {
            document.getElementById('bankname').value = '';
            document.getElementById('accountno').value = '';
            document.getElementById('ifsc').value = '';
            document.getElementById('branch').value = '';
            document.getElementById('amount').value = '';
            document.getElementById('pin').value = '';
            document.getElementById('upiid').value = '';
        }

        function load() {
            let result = '';

            for (let detail of details) {
                result += '<div class="row mt-5">';
                for (let data of detail) {
                    result += '<div class="col">' + data + '</div>';
                }
                result +=
                    '<div class="col">' +
                    '<button type="button" class="btn btn-warning" onclick="updateDetail(\'' + detail[1] + '\')">Update</button>' +
                    '<span class="mt-4"></span>' +
                    '<button type="button" class="btn btn-danger" onclick="deleteDetail(\'' + detail[1] + '\')">Delete</button>' +
                    '</div>';
                result += '</div>';
            }

            document.getElementById('listDetails').innerHTML = result;
        }

        function deleteDetail(id) {
            let detailIndex = details.findIndex(detail => detail[1] === id);
            if (detailIndex !== -1) {
                details.splice(detailIndex, 1);
                load();
                lgMsg.innerHTML = 'Account details deleted successfully.';
            }
        }

        function updateDetail(id) {
            let detailIndex = details.findIndex(detail => detail[1] === id);
            if (detailIndex !== -1) {
                let updatedDetail = details[detailIndex];
                document.getElementById('bankname').value = updatedDetail[0];
                document.getElementById('accountno').value = updatedDetail[1];
                document.getElementById('ifsc').value = updatedDetail[2];
                document.getElementById('branch').value = updatedDetail[3];
                document.getElementById('amount').value = updatedDetail[4];
                document.getElementById('pin').value = updatedDetail[5];
                document.getElementById('upiid').value = updatedDetail[6];
            }
        }
        </script>
    </body>
</html>-->

